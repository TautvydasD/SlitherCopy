@page "/snake"
@using System.Drawing;
@using Blazor.Extensions.Canvas
<h3>Snake</h3>

@*<input @onkeydown="@OnKeyDown" />*@
<div @onload="@OnKeyDown">

</div>

<BECanvas Width="300" Height="400" @ref="_canvasReference"></BECanvas>

@code {
    private Canvas2DContext _context;

    protected BECanvasComponent _canvasReference;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        this._context = await this._canvasReference.CreateCanvas2DAsync();
        await this._context.SetFillStyleAsync("green");

        await this._context.FillRectAsync(10, 100, 100, 100);

        await this._context.SetFontAsync("48px serif");
        await this._context.StrokeTextAsync("Hello Blazor!!!", 10, 100);
    }
    public void OnKeyDown()
    {
        //var pos1 = new Point(20, 20);
        //var pos = new Rectangle(10,10,20,20);
        //var color = new Color();
        //color.
        Graphics GR;
        Bitmap BM;
        Rectangle myrect = new Rectangle(10, 10, 10, 10);
        Pen penTest = new System.Drawing.Pen(Brushes.Red);

        //using (GR = Graphics.FromImage((Image)BM))
        //{
        //    GR.DrawRectangle(penTest, myrect);
        //}

        //picturebox1.Image = BM;

    }
}
